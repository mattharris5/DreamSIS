$("#participants_table")
  .html("<%=j render('participants_table') %>")
  .removeClass("loading")
  .attr("data-report", "<%= @report %>")

history.pushState({'report' : '<%= @report %>'}, '<%= @report.titleize %>', '?report=<%= @report %>')

$("#export_actions").html("<%=j render('export_actions') %>")
exportReportType = "<%=j params[:report] %>"

if (typeof attendanceEventIds !== 'undefined') {
  buildAttendanceTable(attendanceEventIds)
}

$("#stages_selector").html("<%=j render('stages') %>")
$("#stages_selector a[data-stage]").click(clickStageSelector)
updateFiltersWithLocationHash()
executeFilters()
updateRecordCount()
prepareSelectAll()
$('tr.participant .needs-followup-container > a').click(showFollowUpPanel);
registerTableSorters()